<div class="prodoct-insertion">
    <div class="col-sm-12 col-md-12">
        <div class="card">
          <div class="card-body">
              <div *ngIf="notification" class="alert alert-warning">
                   {{ notification }}
              </div> <!-- End Notification -->


              <div class="d-flex justify-content-between">
                <div (click)="isCollapsed = !isCollapsed" [attr.aria-expanded]="!isCollapsed" aria-controls="collapseExample" class="insert-heading">
                  <span class="material-icons" style="margin-right: 5px;">library_add</span> {{ product.action_type }}  Product
                </div> <!-- End div -->
  
                <button type="button" class="close" aria-label="Close">
                  <span aria-hidden="true">&times;</span>
                </button>
              </div> <!-- End flex -->



              <div id="collapseExample" [ngbCollapse]="isCollapsed">
                <div style="margin-bottom: 20px;">
                    <form (ngSubmit)="onSubmit($event, product, product.action_type)">
  
                        
                        <div class="form-group">
                            <input type="text" class="form-control" placeholder="Product Name" [(ngModel)]="product.name" name="name">
                        </div> <!-- End form group -->
      
                        <div class="form-group">
                            <input type="number" class="form-control" placeholder="Product Price" [(ngModel)]="product.price" name="price">
      
                            <input type="hidden" class="form-control" [(ngModel)]="product.quantity" name="quantity">
                        </div> <!-- End form group -->
      
                        <div class="form-group">
                            
                                <select [(ngModel)]="product.category"  class="form-control input-sm" name="product.category">
                                <option *ngFor="let product of product.options;" [value]="product.product_category">{{ product.product_category }}</option>
                              </select>
                        </div> <!-- End form group -->
  
  
                        <div class="mt-2">
                          <div *ngIf="progressBar" class="mb-2">
                            <ngb-progressbar type="warning" textType="dark" [value]="uploadPercent |  async | number : '1.2-2'" [showValue]="true"></ngb-progressbar>
                          </div> <!-- End progressBar -->
                          

                          <div *ngIf="product.imgPath" class="product-image mb-2">
                              <img [src]="product.imgPath" alt="" width="140">
                              <div class="remove" (click)="removeImage()">x</div>
                          </div> <!-- End -->
                        </div> <!-- End card  -->
      
                       
      
                        <div class="form-group">
                            <div class="input-group mb-3">
                              
                              <div class="custom-file">
  
                                <input type="hidden" [(ngModel)]="product.imgPath" name="product.imgPath">
                               
    
                                <input type="file" class="custom-file-input" (change)="uploadFile($event)" id="inputGroupFile01" name="product.imgPath" placeholder="select a file">
                                <label class="custom-file-label" for="inputGroupFile01">{{ product.filename }}</label>
                              </div>
                                
                              </div>
                        </div> <!-- End form group -->
      
                        
      
                        <button class="btn btn-success"><i class="material-icons" style="color: #FFF;">playlist_add</i> {{ product.action_type }} Product</button>
                    </form>
                </div>  <!-- End div -->

              </div> <!-- End Toggle -->

              

              <div>
                <table class="table table-bordered">
                    <tr>
                        <td>SL</td>
                        <td> Product Name</td>
                        <td> Product Price</td>
                        <td> Product Category</td>
                        <td>Action</td>
                    </tr>
                    <tr *ngFor="let product of products; let i = index;">
                        <td> {{ i+1 }} </td>
        
                        <td> <img [src]="product.product_img" [alt]="product.product_name" width="40"> {{ product.product_name | titlecase }} </td>
                        <td> {{ product.product_price  }} <small>$</small> </td>
                        <td> {{ product.product_category  | titlecase}} </td>
                        <td> <span class="btn btn-sm btn-outline-danger" (click)="removeProduct(product._id)" style="margin-right: 10px">Delete</span> 
                          <span class="btn btn-sm btn-outline-secondary" (click)="editProduct(product)">Edit</span>
                        </td>
                    </tr>
                </table>
              </div> <!-- End -->
              

         
          </div> <!-- End -->
      </div> <!-- End card -->
    </div> <!-- End col sm -->
</div> <!-- End product Insetation -->